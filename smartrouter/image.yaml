schema_version: 1

name: "rhpam-7/rhpam71-smartrouter"
description: "Red Hat Process Automation Manager Smart Router 7.1 container image"
version: "7.1.0"
from: "jboss/openjdk18-rhel7:1.1"
labels:
    - name: "com.redhat.component"
      value: "rhpam-7-rhpam71-smartrouter-container"
    - name: "org.jboss.product"
      value: "rhpam-smartrouter"
    - name: "org.jboss.product.version"
      value: "7.1.0"
    - name: "org.jboss.product.rhpam-smartrouter.version"
      value: "7.1.0"
envs:
    - name: "JBOSS_PRODUCT"
      value: "rhpam-smartrouter"
    - name: "RHPAM_SMARTROUTER_VERSION"
      value: "7.1.0"
    - name: "PRODUCT_VERSION"
      value: "7.1.0"
    - name: "ADD_ONS_DISTRIBUTION_ZIP"
      value: "rhpam-7.1.0.PAM-redhat-20180827-add-ons.zip"
    - name: "KIE_ROUTER_DISTRIBUTION_JAR"
      value: "rhpam-7.1-smart-router.jar"
ports:
    - value: 9000
modules:
      repositories:
          - path: modules
      install:
          - name: smartrouter
artifacts:
    - name: rhpam-7.1.0.PAM-redhat-20180827-add-ons.zip
      url: http://bxms-qe.rhev-ci-vms.eng.rdu2.redhat.com:8081/nexus/content/repositories/rhpam-7.1-nightly/org/kie/rhba/rhpam/7.1.0.PAM-redhat-20180827/rhpam-7.1.0.PAM-redhat-20180827-add-ons.zip
      md5: 551af95b36d7db079165f1fd5f16b82c
run:
      user: 185
      cmd:
          - "/usr/bin/java"
          - "-Dorg.kie.server.router.host=0.0.0.0"
          - "-Dorg.kie.server.router.port=9000"
          - "-jar"
          - "/opt/rhpam-smartrouter/rhpam-7.1-smart-router.jar"
osbs:
      repository:
          name: containers/rhpam-7-smartrouter
          branch: jb-rhpam-7.1-smartrouter-rhel-7
